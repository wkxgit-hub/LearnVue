{"version":3,"sources":["webpack:///./node_modules/_core-js@3.7.0@core-js/internals/array-reduce.js","webpack:///./node_modules/_core-js@3.7.0@core-js/modules/es.array.reduce.js","webpack:///./src/views/order.vue?7567","webpack:///./src/views/order.vue?bfed","webpack:///src/views/order.vue","webpack:///./src/views/order.vue?af71","webpack:///./src/views/order.vue"],"names":["aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","callbackfn","argumentsLength","memo","O","self","length","index","i","TypeError","module","exports","left","right","$","$reduce","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","this","arguments","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","$route","name","on","cartvue","getAddress","_v","_s","addressList","tel","address","_l","item","key","num","price","goodsattribute","productName","img","_m","total","onsubmit","staticRenderFns","component"],"mappings":"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","file":"src/assets/js/chunk-cd9de3ac.7b20372c.js","sourcesContent":["var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=style&index=0&id=57a1afd7&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('van-nav-bar',{attrs:{\"title\":_vm.$route.name,\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.cartvue}}),_c('div',{staticClass:\"address\",on:{\"click\":_vm.getAddress}},[_c('van-row',[_c('van-col',{attrs:{\"span\":\"4\"}},[_c('van-icon',{staticClass:\"van-icon\",attrs:{\"name\":\"location\"}})],1),_c('van-col',{attrs:{\"span\":\"20\"}},[_c('div',[_c('span',{staticClass:\"usname\"},[_vm._v(_vm._s(this.addressList.name))]),_c('span',{staticClass:\"usphone\"},[_vm._v(_vm._s(this.addressList.tel))])]),_c('div',{staticClass:\"usaddress\"},[_vm._v(_vm._s(this.addressList.address))])])],1)],1),_vm._l((_vm.lists),function(item,index){return _c('div',{key:index,staticClass:\"card\"},[_c('van-card',{attrs:{\"num\":item.num,\"tag\":\"热卖\",\"price\":item.price,\"desc\":item.goodsattribute,\"title\":item.productName,\"thumb\":item.img}}),_vm._m(0,true),_vm._m(1,true),_vm._m(2,true)],1)}),_c('van-submit-bar',{attrs:{\"price\":_vm.total*100,\"button-text\":\"确认订单\"},on:{\"submit\":_vm.onsubmit}})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"div1\"},[_vm._v(\"配送方式 \"),_c('span',{staticClass:\"span1\"},[_vm._v(\"普通配送\")]),_c('span',{staticClass:\"span2\"},[_vm._v(\" 快递 免邮\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"div1\"},[_vm._v(\"加运费险 \"),_c('span',{staticClass:\"span1\"},[_vm._v(\"退换货可赔付8元\")]),_c('span',{staticClass:\"span2\"},[_vm._v(\"店铺 赠送\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"div1\"},[_vm._v(\"订单备注 \"),_c('span',{staticClass:\"span1\"}),_c('input',{attrs:{\"type\":\"text\",\"placeholder\":\"选填 填写与卖家协商的内容\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"box\">\r\n       <van-nav-bar\r\n            :title=\"$route.name\"\r\n            left-text=\"返回\"\r\n            left-arrow\r\n            @click-left=\"cartvue\"\r\n        />\r\n        <!-- 地址 -->\r\n        <div class=\"address\" @click=\"getAddress\">\r\n            <van-row>\r\n                <van-col span=\"4\"><van-icon class=\"van-icon\" name=\"location\" /></van-col>\r\n                <van-col span=\"20\">\r\n                    <div><span class=\"usname\">{{this.addressList.name}}</span><span class=\"usphone\">{{this.addressList.tel}}</span></div>\r\n                    <div class=\"usaddress\">{{this.addressList.address}}</div>\r\n                </van-col>\r\n            </van-row>\r\n        </div>\r\n\r\n        <!-- 商品卡片 -->\r\n        <div v-for=\"(item,index) in lists\" :key=\"index\" class=\"card\">\r\n            <van-card\r\n            :num=\"item.num\"\r\n            tag=\"热卖\"\r\n            :price=\"item.price\"\r\n            :desc=\"item.goodsattribute\"\r\n            :title=\"item.productName\"\r\n            :thumb=\"item.img\"\r\n            />\r\n            <div class=\"div1\">配送方式 <span class=\"span1\">普通配送</span><span class=\"span2\"> 快递 免邮</span></div>\r\n            <div class=\"div1\">加运费险 <span class=\"span1\">退换货可赔付8元</span><span class=\"span2\">店铺 赠送</span></div>\r\n            <div class=\"div1\">订单备注 <span class=\"span1\"></span><input type=\"text\" placeholder=\"选填 填写与卖家协商的内容\"></div>\r\n        </div>\r\n\r\n        <!-- 提交订单 -->\r\n        <van-submit-bar \r\n        :price=\"total*100\" \r\n        button-text=\"确认订单\"\r\n        @submit=\"onsubmit\"\r\n        />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data(){\r\n            return{\r\n                // lists:this.$route.query.item,\r\n                name:\"\",\r\n                tel:\"\",\r\n                total:\"\",\r\n                addressList:[],\r\n                lists:[],\r\n            }\r\n        },\r\n        methods:{\r\n            sum(){\r\n                // 总价格计算\r\n                // total 累加值\r\n                this.total = this.lists.reduce((total,item)=>{\r\n                    // 判断选项选中计算价格\r\n                    if(!item.goodscheck) return total; //返回默认价格\r\n                    return total + parseInt(item.price) * parseInt(item.num); //总价格\r\n                },0) //总价格默认值0\r\n            },\r\n            getAddress(){\r\n                this.$router.push(\"/address\");\r\n            },\r\n            cartvue(){//返回，未支付\r\n                // 保存订单数据\r\n                let order = {//订单数据\r\n                    orderId:new Date().getTime(),\r\n                    addressList:this.addressList,\r\n                    goodsList:this.lists,\r\n                    dateTime:new Date(),\r\n                    type:1 //待支付\r\n                }\r\n                // 调用vuex订单数据状态\r\n                this.$store.commit(\"order/add\",order);\r\n                //清除购物车数据\r\n                let folist=this.$store.state.cart.lists;\r\n                for(var i=0;i<folist.length;i++){\r\n                    if(folist[i].goodscheck){\r\n                        this.$store.state.cart.lists.splice(i,1)\r\n                        i--\r\n                    }\r\n                }\r\n                this.$router.push(\"/cart\");\r\n                this.$store.state.active=2;\r\n            },\r\n            onsubmit(){//确认订单\r\n                // 保存订单数据\r\n                let order = {//订单数据\r\n                    orderId:new Date().getTime(),\r\n                    addressList:this.addressList,\r\n                    goodsList:this.lists,\r\n                    dateTime:new Date(),\r\n                    type:2 //已支付\r\n                }\r\n                // 调用vuex订单数据状态\r\n                this.$store.commit(\"order/add\",order);\r\n\r\n                //清除购物车数据\r\n                let folist=this.$store.state.cart.lists;\r\n                for(var i=0;i<folist.length;i++){\r\n                    if(folist[i].goodscheck){\r\n                        this.$store.state.cart.lists.splice(i,1)\r\n                        i--\r\n                    }\r\n                }\r\n                this.$router.push(\"/orderList/orderAll\")\r\n                //  路由跳转\r\n            }\r\n\r\n        },\r\n        //生命周期成功初始化数据方法时执行\r\n        created(){\r\n            \r\n            //直接购买数据传入\r\n            if(this.$route.query.item){\r\n                this.lists.push(this.$route.query.item)\r\n            }\r\n            //传入购物车勾选着得数据\r\n            let folist=this.$store.state.cart.lists;\r\n            for(var i=0;i<folist.length;i++){\r\n                if(folist[i].goodscheck){\r\n                    this.lists.push(folist[i])\r\n                }\r\n            }\r\n                \r\n\r\n            // this.lists = this.$store.state.cart.lists;\r\n            this.sum();//计算总价格\r\n\r\n            let index = this.$store.state.address.lists.findIndex(item=>item.isDefault == true);\r\n            this.addressList=this.$store.state.address.lists[index]\r\n        },\r\n        \r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box{\r\n    .address{\r\n        width: 94%;\r\n        height: 100px;\r\n        margin: 10px auto;\r\n        background: white;\r\n        border-radius: 5px;\r\n        .van-icon{\r\n            font-size: 30px;\r\n            margin-left: 10px;;\r\n            height: 100px;\r\n            line-height: 100px;\r\n            color: rgba(255, 145, 0, 0.973);\r\n        }\r\n        .usname{\r\n            display: inline-block;\r\n            font-size: 18px;\r\n            color: black;\r\n            margin: 10px 10px  5px  0 ;\r\n        }\r\n        .usphone{\r\n            display: inline-block;\r\n            font-size: 12px;\r\n            color: rgb(90, 90, 90);\r\n        }\r\n        .usaddress{\r\n            font-size:14px;\r\n\r\n        }\r\n    }\r\n    .card{\r\n        padding:0.5rem 0;\r\n        width: 94%;\r\n        margin: 10px auto;\r\n        background: white;\r\n        border-radius: 5px;\r\n        .div1{\r\n            margin:0.8rem 0;\r\n            margin-left: 1rem;\r\n            color: black;\r\n            .span1{\r\n                display: inline-block;\r\n                color: #666666;\r\n                margin-left: 1rem;\r\n            }\r\n            .span2{\r\n                display: inline-block;\r\n                color: #666666;\r\n                float: right;\r\n                margin-right: 1rem;\r\n                text-align:center;\r\n            }\r\n        }\r\n        .van-card{\r\n                background: #fff;\r\n                font-size: 16px;\r\n            }  \r\n    }\r\n\r\n}\r\n\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.2.1@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/index.js??vue-loader-options!./order.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./order.vue?vue&type=template&id=57a1afd7&scoped=true&\"\nimport script from \"./order.vue?vue&type=script&lang=js&\"\nexport * from \"./order.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order.vue?vue&type=style&index=0&id=57a1afd7&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.5@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57a1afd7\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}